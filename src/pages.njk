---
pagination:
  data: collections.post
  size: 6
  alias: posts
  reverse: true
permalink: "{% if pagination.pageNumber == 0 %}/pages/index.html{% else %}/pages/{{ pagination.pageNumber + 1 }}/index.html{% endif %}"
layout: layout.njk
title: "posts - page {{ pagination.pageNumber + 1 }}"
---

<nav class="pagination" aria-label="Pagination navigation">
  {% if pagination.href.previous %}
    <a href="{{ pagination.href.previous }}">Previous</a>
  {% endif %}

  {% for href in pagination.hrefs %}
    <a href="{{ href }}"{% if pagination.pageNumber == loop.index0 %} class="current"{% endif %}>
      {{ loop.index }}
    </a>
  {% endfor %}

  {% if pagination.href.next %}
    <a href="{{ pagination.href.next }}">Next</a>
  {% endif %}
</nav>

<section id="posts">
  <div class="container">
    {% for post in posts %}
      <article class="post-preview">
        <h2><a href="{{ post.url }}">{{ post.data.title }}</a></h2>
        <p class="meta">
          {{ post.date | date }}
          {% if post.data.readTime %} • {{ post.data.readTime }}{% endif %}
        </p>
        <p>{{ post.data.description or "…" }}</p>

        {% if post.data.tags %}
          <p class="meta">tags:
            {% for tag in post.data.tags %}
              <a href="/tags/{{ tag | slug }}.html">{{ tag }}</a>{% if not loop.last %}, {% endif %}
            {% endfor %}
          </p>
        {% endif %}

        <a href="{{ post.url }}">read more →</a>
      </article>
    {% endfor %}
  </div>
</section>

<nav class="pagination" aria-label="Pagination navigation">
  {% if pagination.href.previous %}
    <a href="{{ pagination.href.previous }}">Previous</a>
  {% endif %}

  {% for href in pagination.hrefs %}
    <a href="{{ href }}"{% if pagination.pageNumber == loop.index0 %} class="current"{% endif %}>
      {{ loop.index }}
    </a>
  {% endfor %}

  {% if pagination.href.next %}
    <a href="{{ pagination.href.next }}">Next</a>
  {% endif %}
</nav>

<p style="margin-top:2.5rem;"><a href="/">back to safety</a></p>